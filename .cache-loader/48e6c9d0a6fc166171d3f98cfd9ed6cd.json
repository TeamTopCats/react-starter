{"remainingRequest":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js??ref--22-1!/Users/lnked/web/react-starter.dev/node_modules/awesome-typescript-loader/dist/entry.js??ref--22-2!/Users/lnked/web/react-starter.dev/node_modules/eslint-loader/index.js??ref--18!/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js??ref--19!/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js!/Users/lnked/web/react-starter.dev/src/pages/panels-page/index.tsx","dependencies":[{"path":"/Users/lnked/web/react-starter.dev/src/pages/panels-page/index.tsx","mtime":1539793474000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/cache-loader/dist/cjs.js","mtime":1535757827000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js","mtime":1538108594000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/cache-loader/dist/cjs.js","mtime":1535757827000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js","mtime":1538108594000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/awesome-typescript-loader/dist/entry.js","mtime":1536306832000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/eslint-loader/index.js","mtime":1537424147000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js","mtime":1535757857000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js","mtime":1535757854000}],"contextDependencies":[],"result":["\"use strict\";function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect===\"object\"&&typeof Reflect.decorate===\"function\")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};Object.defineProperty(exports,\"__esModule\",{value:true});var React=require(\"react\");var css=require(\"./styles.scss\");var fragments_1=require(\"fragments\");var components_1=require(\"components\");var constants_1=require(\"settings/constants\");var mobx_react_1=require(\"mobx-react\");var PanelsPage=function(_React$Component){_inheritsLoose(PanelsPage,_React$Component);function PanelsPage(){var _this;_this=_React$Component.apply(this,arguments)||this;_this.state={progress:{1:{name:'1',color:'red',seconds:25,progress:25},2:{name:'2',color:'green',seconds:60,progress:60},3:{name:'3',color:'blue',seconds:120,progress:120}}};_this.interval=[];_this.startInterval=function(){var progress=_this.state.progress;progress&&Object.keys(progress).map(function(id){_this.interval[id]=setInterval(function(){_this.setState(function(state){var _extends2;return{progress:_extends({},state.progress,(_extends2={},_extends2[id]=_extends({},state.progress[id],{progress:state.progress[id].progress-1}),_extends2))};},function(){var prog=_this.state.progress;if(prog&&prog[id]&&prog[id].progress===0){_this.stopInterval(id);}});},500);});};_this.stopInterval=function(id){clearInterval(_this.interval[id]);};_this.progress=function(seconds,value){return value/seconds*100;};return _this;}var _proto=PanelsPage.prototype;_proto.componentDidMount=function componentDidMount(){this.startInterval();};_proto.componentWillUnmount=function componentWillUnmount(){var _this2=this;var progress=this.state.progress;progress&&Object.keys(progress).map(function(id){_this2.stopInterval(id);});};_proto.render=function render(){var _this3=this;var type='grid';var progress=this.state.progress;return React.createElement(\"div\",{className:css.content},React.createElement(fragments_1.Group,{type:type},progress&&Object.keys(progress).map(function(id){var value=_this3.progress(progress[id].seconds,progress[id].seconds-progress[id].progress);return React.createElement(components_1.Card,{key:id,className:css.product},React.createElement(components_1.CircularProgress,{stroke:4,color:progress[id].color,content:progress[id].progress,progress:value}));})));};return PanelsPage;}(React.Component);PanelsPage=__decorate([mobx_react_1.inject(constants_1.STORE_UI,constants_1.STORE_APP),mobx_react_1.observer],PanelsPage);exports.PanelsPage=PanelsPage;exports.default=PanelsPage;",{"version":3,"sources":["node_modules/eslint-loader/index.js??ref--18!/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js??ref--19!/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js!/Users/lnked/web/react-starter.dev/src/pages/panels-page/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport * as css from './styles.scss'\n\nimport { Group } from 'fragments'\n\nimport { Card, CircularProgress } from 'components'\n\nimport { STORE_UI, STORE_APP } from 'settings/constants'\n\nimport { inject, observer } from 'mobx-react'\n\nexport interface Action {\n    [key: number]: {\n        name: string;\n        color: string,\n        seconds: number;\n        progress: any;\n    }\n}\n\nexport interface S {\n    progress: Action[];\n}\n\n@inject(STORE_UI, STORE_APP)\n@observer\nclass PanelsPage extends React.Component<any, S> {\n    state = {\n        progress: {\n            1: {\n                name: '1',\n                color: 'red',\n                seconds: 25,\n                progress: 25,\n            },\n            2: {\n                name: '2',\n                color: 'green',\n                seconds: 60,\n                progress: 60,\n            },\n            3: {\n                name: '3',\n                color: 'blue',\n                seconds: 120,\n                progress: 120,\n            },\n        },\n    }\n\n    interval: any[] = []\n\n    componentDidMount () {\n        this.startInterval()\n    }\n\n    startInterval = () => {\n        const { progress } = this.state\n\n        progress && Object.keys(progress).map((id: number) => {\n            this.interval[id] = setInterval(() => {\n                this.setState((state: S) => {\n                    return {\n                        progress: {\n                            ...state.progress,\n                            [id]: {\n                                ...state.progress[id],\n                                progress: state.progress[id].progress - 1,\n                            },\n                        },\n                    }\n                }, () => {\n                    const prog: any = this.state.progress\n\n                    if (prog && prog[id] && prog[id].progress === 0) {\n                        this.stopInterval(id)\n                    }\n                })\n            }, 500)\n        })\n    }\n\n    componentWillUnmount () {\n        const { progress } = this.state\n\n        progress && Object.keys(progress).map((id: any) => {\n            this.stopInterval(id)\n        })\n    }\n\n    stopInterval = (id: number): void => {\n        clearInterval(this.interval[id])\n    }\n\n    progress = (seconds: number, value: number) => {\n        return value / seconds * 100\n    }\n\n    render () {\n        const type = 'grid'\n        const { progress } = this.state\n\n        return (\n            <div className={css.content}>\n                <Group type={type}>\n                    {progress && Object.keys(progress).map(id => {\n                        const value = this.progress(progress[id].seconds, progress[id].seconds - progress[id].progress)\n\n                        return (\n                            <Card key={id} className={css.product}>\n                                <CircularProgress\n                                    stroke={4}\n                                    color={progress[id].color}\n                                    content={progress[id].progress}\n                                    progress={value}\n                                />\n                            </Card>\n                        )\n                    })}\n                </Group>\n            </div>\n        )\n    }\n}\n\nexport { PanelsPage }\nexport default PanelsPage\n"],"sourceRoot":"/Users/lnked/web/react-starter.dev/"}]}