{"remainingRequest":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js??ref--22-1!/Users/lnked/web/react-starter.dev/node_modules/awesome-typescript-loader/dist/entry.js??ref--22-2!/Users/lnked/web/react-starter.dev/node_modules/eslint-loader/index.js??ref--18!/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js??ref--19!/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js!/Users/lnked/web/react-starter.dev/src/helpers/utils/validate.ts","dependencies":[{"path":"/Users/lnked/web/react-starter.dev/src/helpers/utils/validate.ts","mtime":1537369298000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/cache-loader/dist/cjs.js","mtime":1535757827000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js","mtime":1538108594000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/cache-loader/dist/cjs.js","mtime":1535757827000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/babel-loader/lib/index.js","mtime":1538108594000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/awesome-typescript-loader/dist/entry.js","mtime":1536306832000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/eslint-loader/index.js","mtime":1537424147000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js","mtime":1535757857000},{"path":"/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js","mtime":1535757854000}],"contextDependencies":[],"result":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var trim_1=require(\"../utils/trim\");var is_email_1=require(\"../predicts/is-email\");var is_undefined_1=require(\"../predicts/is-undefined\");exports.validateBlocks=function(value,options){var blocks=trim_1.trim(value).split(' ');if(blocks.length!==options.length){return false;}var failed=blocks.filter(function(part,index){return!options[index]||part.length<options[index];});return!failed.length;};exports.validate=function(data,options){var errors={};Object.keys(options).map(function(name){var check=options[name];if(check){if(!data[name]&&(is_undefined_1.isUndefined(check.required)||check.required)){errors[name]=true;}else if(check.hasOwnProperty('cyrillic')&&!/[ЁА-яё]/.test(data[name])){errors[name]='Можно использовать только кириллицу';}else if(check.hasOwnProperty('blocks')&&!exports.validateBlocks(data[name],check.blocks)){errors[name]='Не правильный формат';}if(check.isEmail&&data[name]&&!check.required&&!is_email_1.isEmail(data[name])){errors[name]='Неправильный адрес электронной почты';}if(typeof data[name]==='object'){Object.keys(check).map(function(k){if(typeof data[name][k]==='undefined'||data[name][k]===''){errors[name]=true;}});}}});return errors;};",{"version":3,"sources":["node_modules/eslint-loader/index.js??ref--18!/Users/lnked/web/react-starter.dev/node_modules/tslint-loader/index.js??ref--19!/Users/lnked/web/react-starter.dev/node_modules/source-map-loader/index.js!/Users/lnked/web/react-starter.dev/src/helpers/utils/validate.ts"],"names":[],"mappings":"sEAAA,GAAA,CAAA,MAAA,CAAA,OAAA,iBAAA,CACA,GAAA,CAAA,UAAA,CAAA,OAAA,wBAAA,CACA,GAAA,CAAA,cAAA,CAAA,OAAA,4BAAA,CAEa,OAAA,CAAA,cAAA,CAAiB,SAAC,KAAD,CAAgB,OAAhB,CAAyC,CACnE,GAAM,CAAA,MAAM,CAAG,MAAA,CAAA,IAAA,CAAK,KAAL,EAAY,KAAZ,CAAkB,GAAlB,CAAf,CAEA,GAAI,MAAM,CAAC,MAAP,GAAkB,OAAO,CAAC,MAA9B,CAAsC,CAClC,MAAO,MAAP,CACH,CAED,GAAM,CAAA,MAAM,CAAG,MAAM,CAAC,MAAP,CAAc,SAAC,IAAD,CAAY,KAAZ,CAA6B,CACtD,MAAO,CAAC,OAAO,CAAC,KAAD,CAAR,EAAmB,IAAI,CAAC,MAAL,CAAc,OAAO,CAAC,KAAD,CAA/C,CACH,CAFc,CAAf,CAIA,MAAO,CAAC,MAAM,CAAC,MAAf,CACH,CAZY,CAcA,OAAA,CAAA,QAAA,CAAW,SAAC,IAAD,CAAY,OAAZ,CAAiC,CACrD,GAAM,CAAA,MAAM,CAAG,EAAf,CAEA,MAAM,CAAC,IAAP,CAAY,OAAZ,EAAqB,GAArB,CAAyB,SAAA,IAAI,CAAG,CAC5B,GAAM,CAAA,KAAK,CAAG,OAAO,CAAC,IAAD,CAArB,CAEA,GAAI,KAAJ,CAAW,CACP,GAAI,CAAC,IAAI,CAAC,IAAD,CAAL,GAAgB,cAAA,CAAA,WAAA,CAAY,KAAK,CAAC,QAAlB,GAA+B,KAAK,CAAC,QAArD,CAAJ,CAAoE,CAChE,MAAM,CAAC,IAAD,CAAN,CAAe,IAAf,CACH,CAFD,IAEO,IAAI,KAAK,CAAC,cAAN,CAAqB,UAArB,GAAoC,CAAC,UAAU,IAAV,CAAe,IAAI,CAAC,IAAD,CAAnB,CAAzC,CAAqE,CACxE,MAAM,CAAC,IAAD,CAAN,CAAe,qCAAf,CACH,CAFM,IAEA,IAAI,KAAK,CAAC,cAAN,CAAqB,QAArB,GAAkC,CAAC,OAAA,CAAA,cAAA,CAAe,IAAI,CAAC,IAAD,CAAnB,CAA2B,KAAK,CAAC,MAAjC,CAAvC,CAAiF,CACpF,MAAM,CAAC,IAAD,CAAN,CAAe,sBAAf,CACH,CAED,GAAI,KAAK,CAAC,OAAN,EAAkB,IAAI,CAAC,IAAD,CAAJ,EAAc,CAAC,KAAK,CAAC,QAArB,EAAiC,CAAC,UAAA,CAAA,OAAA,CAAQ,IAAI,CAAC,IAAD,CAAZ,CAAxD,CAA8E,CAC1E,MAAM,CAAC,IAAD,CAAN,CAAe,sCAAf,CACH,CAED,GAAI,MAAO,CAAA,IAAI,CAAC,IAAD,CAAX,GAAsB,QAA1B,CAAoC,CAChC,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,GAAnB,CAAuB,SAAA,CAAC,CAAG,CACvB,GAAI,MAAO,CAAA,IAAI,CAAC,IAAD,CAAJ,CAAW,CAAX,CAAP,GAAyB,WAAzB,EAAwC,IAAI,CAAC,IAAD,CAAJ,CAAW,CAAX,IAAkB,EAA9D,CAAkE,CAC9D,MAAM,CAAC,IAAD,CAAN,CAAe,IAAf,CACH,CACJ,CAJD,EAKH,CACJ,CACJ,CAxBD,EA0BA,MAAO,CAAA,MAAP,CACH,CA9BY","sourcesContent":["import { trim } from '../utils/trim'\nimport { isEmail } from '../predicts/is-email'\nimport { isUndefined } from '../predicts/is-undefined'\n\nexport const validateBlocks = (value: string, options: any): boolean => {\n    const blocks = trim(value).split(' ')\n\n    if (blocks.length !== options.length) {\n        return false\n    }\n\n    const failed = blocks.filter((part: any, index: number) => {\n        return !options[index] || part.length < options[index]\n    })\n\n    return !failed.length\n}\n\nexport const validate = (data: any, options: any): any => {\n    const errors = {}\n\n    Object.keys(options).map(name => {\n        const check = options[name]\n\n        if (check) {\n            if (!data[name] && (isUndefined(check.required) || check.required)) {\n                errors[name] = true\n            } else if (check.hasOwnProperty('cyrillic') && !/[ЁА-яё]/.test(data[name])) {\n                errors[name] = 'Можно использовать только кириллицу'\n            } else if (check.hasOwnProperty('blocks') && !validateBlocks(data[name], check.blocks)) {\n                errors[name] = 'Не правильный формат'\n            }\n\n            if (check.isEmail && (data[name] && !check.required && !isEmail(data[name]))) {\n                errors[name] = 'Неправильный адрес электронной почты'\n            }\n\n            if (typeof data[name] === 'object') {\n                Object.keys(check).map(k => {\n                    if (typeof data[name][k] === 'undefined' || data[name][k] === '') {\n                        errors[name] = true\n                    }\n                })\n            }\n        }\n    })\n\n    return errors\n}\n"],"sourceRoot":"/Users/lnked/web/react-starter.dev/"}]}